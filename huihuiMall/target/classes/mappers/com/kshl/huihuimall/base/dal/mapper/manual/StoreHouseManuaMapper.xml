<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kshl.huihuimall.console.dal.manualmapper.StoreHouseManuaMapper">

    <resultMap id="StoreHouseResultMap" type="com.kshl.huihuimall.base.dal.entity.Storehouse">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="storehouse_name" jdbcType="VARCHAR" property="storehouseName" />
        <result column="area_id" jdbcType="INTEGER" property="areaId" />
        <result column="area_name" jdbcType="VARCHAR" property="areaName" />
        <result column="space" jdbcType="DOUBLE" property="space" />
        <result column="address" jdbcType="VARCHAR" property="address" />
        <result column="manager_id" jdbcType="INTEGER" property="managerId" />
    </resultMap>
	<select id="getAllStroeHouse" parameterType="map" resultType="map">
        SELECT p.*  FROM storehouse AS p
        <trim prefix="where" prefixOverrides="and|or">
            <if test="area != null">
                AND p.area = #{area}
            </if>
            <if test="storeHouseName != null">
                AND p.storehouse_name LIKE CONCAT('%', #{storeHouseName}, '%')
            </if>
        </trim>
        <if test="startPage != null and pageSize != null">
            LIMIT #{startPage,jdbcType=INTEGER}, #{pageSize,jdbcType=INTEGER}
        </if>
    </select>
    
    <select id="getAllProductCount" parameterType="map" resultType="Integer">
        SELECT COUNT(p.*)
        FROM storehouse AS p
        <trim prefix="where" prefixOverrides="and|or">
            <if test="area != null">
                AND p.area= #{area}
            </if>
            <if test="storeHouseName != null">
                AND p.storehouse_name LIKE CONCAT('%', #{storeHouseName}, '%')
            </if>
        </trim>
    </select>


    <select id="getStorehouseList" resultMap="StoreHouseResultMap">
        SELECT sh.* FROM storehouse AS sh
    </select>

    <select id="getStoreHousebyManageId" parameterType="java.lang.Integer" resultMap="StoreHouseResultMap">
        SELECT *FROM storehouse WHERE manager_id=#{accountId,jdbcType=INTEGER}
    </select>
    
</mapper>